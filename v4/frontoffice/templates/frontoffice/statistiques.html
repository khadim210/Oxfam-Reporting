{% extends "frontoffice/base.html" %}
{% load static %}
{% load i18n %}

{% block css %}
{{ block.super }}
<link  href="{% static 'styles/jquery-ui-1.8.21.custom.css' %}" rel="Stylesheet" />
<style type="text/css">
    #targetchart { width: 608px; height: 408px; padding: 4px; }
    #targetchart h3 { text-align: center; margin: 0; }
</style>
{% endblock %}

{% block js %}
    {{ block.super }}
    <script src="{% static 'js/jquery-ui-1.8.18.custom.min.js' %}"></script>
    <script src="{% static 'js/jchartfx.full.js' %}"></script>
{% endblock %}

{% block breadcrumbs %}
    {{ block.super }}
    <li><a href="{% url 'frontoffice.views.statistique' %}">Statistique</a></li>
{% endblock %}

{% block content %}
    <div class="col_12">
        <fieldset>
            <legend><h3>Statistiques</h3></legend>
        <table width="500" border="0" class="element_centre_statistique" cellpadding="0px">
            <tr>
                <td><div class="ChartDiv2" id="targetchart" style="display:inline-block">
                    <div id="myDiv" style="width:100%;height:100%;display:inline-block">
                    </div>
                </div></td>
                <td><div class="ChartDiv1" id="targetchart" style="display:inline-block">
                    <div id="myDiv" style="width:100%;height:100%;display:inline-block">
                    </div>
                </div></td>
            </tr>
            <tr>
                <td><div class="ChartDiv4" id="targetchart" style="display:inline-block">
                    <div id="myDiv" style="width:100%;height:100%;display:inline-block">
                    </div>
                </div></td>
                <td><div class="ChartDiv3" id="targetchart" style="display:inline-block">
                    <div id="myDiv" style="width:100%;height:100%;display:inline-block">
                    </div>
                </div></td>
            </tr>
            <tr>
                <td><input class="largeur_bouton_centre" title="Cliquez pour Detail donnees" type="submit" name="" value="Autres a preciser"></td>
                <td>&nbsp;</td>
            </tr>
        </table>
            </fieldset>

    </div>

    <script src="{% static 'js/histogramme.js' %}"></script>
    <script type="text/javascript">
            var chart1;
            var items = [];

            $.getJSON('courbe_evolution/', {}, function(data){
                $.each(data, function(index, val){
                   items[index] = val;
                });
                console.log(items);
            });

            $("div", ".ChartDiv2").chart({
                gallery: cfx.Gallery.Area,
                data: {
                    series: 2
                },
                series: [{
                    color: "#801702D1",
                    border: {
                        width: 4
                    }
                }, {
                    gallery: cfx.Gallery.Lines
                }],
                allSeries: {
                    pointLabels: {
                        visible: false
                    },
                    MarkerShape: cfx.MarkerShape.None
                },
                LegendBox: {
                    visible: true,
                    dock: cfx.DockArea.Bottom
                },
                //----Assign data fields--------
                dataSourceSettings: {
                    fields: [{
                        name: "Value",
                        usage: cfx.FieldUsage.Value
                    }, {
                        name: "Date",
                        usage: cfx.FieldUsage.XValue
                    }]
                },
                //----Set Sample Data------------
                dataValues: items,
                titles: [{
                    text: "Courbe-Evolution Depenses"
                }]
            });
    </script>
    <script src="{% static 'js/evolutionperte.js' %}"></script>
    <script src="{% static 'js/evolutionconform.js' %}"></script>
{% endblock %}